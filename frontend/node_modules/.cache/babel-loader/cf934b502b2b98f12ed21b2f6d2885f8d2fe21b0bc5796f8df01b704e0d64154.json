{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Interacthub\\\\frontend\\\\src\\\\components\\\\hr\\\\HRGlobalComms.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport SockJS from 'sockjs-client';\nimport { Client } from '@stomp/stompjs';\nimport { motion } from 'framer-motion';\nimport apiConfig from '../../config/api';\nimport { authHelpers } from '../../config/auth';\nimport LiveAnnouncementComponent from '../manager/LiveAnnouncementComponent';\nimport LivePollComponent from '../manager/LivePollComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst variants = {\n  hidden: {\n    opacity: 0,\n    y: 20\n  },\n  show: {\n    opacity: 1,\n    y: 0\n  }\n};\nconst HRGlobalComms = () => {\n  _s();\n  const [globalComms, setGlobalComms] = useState([]);\n  const [globalAnnouncement, setGlobalAnnouncement] = useState({\n    title: '',\n    content: '',\n    type: 'GENERAL'\n  });\n  const [globalPoll, setGlobalPoll] = useState({\n    question: '',\n    options: ['']\n  });\n  const [message, setMessage] = useState(null);\n  const [userLikes, setUserLikes] = useState({});\n  const stompRef = useRef(null);\n  const myName = authHelpers.getUserName();\n  useEffect(() => {\n    fetchGlobal();\n    const chatSocket = new SockJS(apiConfig.websocketUrl);\n    const adminSocket = new SockJS(apiConfig.adminWebsocketUrl);\n    const chatClient = new Client({\n      webSocketFactory: () => chatSocket,\n      reconnectDelay: 5000\n    });\n    const adminClient = new Client({\n      webSocketFactory: () => adminSocket,\n      reconnectDelay: 5000\n    });\n    chatClient.onConnect = () => {\n      chatClient.subscribe('/topic/announcements.new', m => {\n        try {\n          const ann = JSON.parse(m.body || '{}');\n          const a = (ann.targetAudience || '').toUpperCase();\n          if (['ALL', 'HR', 'ADMIN'].includes(a)) setGlobalComms(prev => [ann, ...prev]);\n        } catch {}\n      });\n      chatClient.subscribe('/topic/polls.new', m => {\n        try {\n          const poll = JSON.parse(m.body || '{}');\n          const a = (poll.targetAudience || '').toUpperCase();\n          if (['ALL', 'HR', 'ADMIN'].includes(a)) setGlobalComms(prev => [poll, ...prev]);\n        } catch {}\n      });\n      chatClient.subscribe('/topic/announcements.reactions', msg => {\n        try {\n          const reaction = JSON.parse(msg.body || '{}');\n          if (reaction.type === 'LIKE') {\n            setUserLikes(prev => ({\n              ...prev,\n              [reaction.announcementId]: reaction.liked\n            }));\n          } else if (reaction.type === 'COMMENT') {\n            fetchGlobal();\n          }\n        } catch (error) {\n          console.error('Error processing announcement reaction:', error);\n        }\n      });\n    };\n    adminClient.onConnect = () => {\n      adminClient.subscribe('/topic/announcements.deleted', msg => {\n        try {\n          const deletion = JSON.parse(msg.body || '{}');\n          setGlobalComms(prev => prev.filter(item => !('content' in item) || item.id !== deletion.id));\n        } catch (error) {\n          console.error('Error processing announcement deletion:', error);\n        }\n      });\n      adminClient.subscribe('/topic/polls.deleted', msg => {\n        try {\n          const deletion = JSON.parse(msg.body || '{}');\n          setGlobalComms(prev => prev.filter(item => !('question' in item) || item.id !== deletion.id));\n        } catch (error) {\n          console.error('Error processing poll deletion:', error);\n        }\n      });\n    };\n    chatClient.activate();\n    adminClient.activate();\n    stompRef.current = {\n      chat: chatClient,\n      admin: adminClient\n    };\n    return () => {\n      chatClient.deactivate();\n      adminClient.deactivate();\n    };\n  }, []);\n  const fetchGlobal = async () => {\n    try {\n      const [ra, rp] = await Promise.all([axios.get(`${apiConfig.adminService}/announcements/target/ALL`), axios.get(`${apiConfig.adminService}/polls/target/ALL`)]);\n      setGlobalComms([...(ra.data || []), ...(rp.data || [])]);\n      loadUserLikes(ra.data || []);\n    } catch {\n      setMessage({\n        type: 'error',\n        text: 'Could not fetch communications.'\n      });\n    }\n  };\n  const loadUserLikes = async announcements => {\n    const currentUser = authHelpers.getUserName() || 'User';\n    const likes = {};\n    for (const ann of announcements) {\n      try {\n        const base = apiConfig.chatService.replace('/api/chat', '/api/interactions');\n        const response = await fetch(`${base}/announcement/${ann.id}/interactions`);\n        const interactions = await response.json();\n        const userLike = interactions.find(i => i.userName === currentUser && i.type === 'LIKE');\n        likes[ann.id] = !!userLike;\n      } catch (error) {\n        likes[ann.id] = false;\n      }\n    }\n    setUserLikes(likes);\n  };\n  const handleCreateGlobalAnnouncement = async e => {\n    e.preventDefault();\n    try {\n      const payload = {\n        title: globalAnnouncement.title,\n        content: globalAnnouncement.content,\n        type: (globalAnnouncement.type || 'GENERAL').toUpperCase(),\n        targetAudience: 'ALL',\n        createdByName: myName\n      };\n      await axios.post(`${apiConfig.adminService}/announcements`, payload);\n      setMessage({\n        type: 'success',\n        text: 'Announcement posted successfully!'\n      });\n      setGlobalAnnouncement({\n        title: '',\n        content: '',\n        type: 'GENERAL'\n      });\n      fetchGlobal();\n      setTimeout(() => setMessage(null), 3000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage({\n        type: 'error',\n        text: (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to post announcement.'\n      });\n    }\n  };\n  const handleCreateGlobalPoll = async e => {\n    e.preventDefault();\n    try {\n      const pollData = {\n        question: globalPoll.question,\n        options: (globalPoll.options || []).filter(o => (o || '').trim() !== ''),\n        targetAudience: 'ALL',\n        createdByName: myName,\n        isActive: true\n      };\n      if (pollData.options.length < 2) {\n        setMessage({\n          type: 'error',\n          text: 'A poll needs at least two options.'\n        });\n        return;\n      }\n      await axios.post(`${apiConfig.adminService}/polls`, pollData);\n      setMessage({\n        type: 'success',\n        text: 'Poll created successfully!'\n      });\n      setGlobalPoll({\n        question: '',\n        options: ['']\n      });\n      fetchGlobal();\n      setTimeout(() => setMessage(null), 3000);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setMessage({\n        type: 'error',\n        text: (error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to create poll.'\n      });\n    }\n  };\n  const handlePollOptionChange = (index, value) => {\n    const next = [...(globalPoll.options || [])];\n    next[index] = value;\n    setGlobalPoll(p => ({\n      ...p,\n      options: next\n    }));\n  };\n  const deleteAnnouncement = async id => {\n    if (!window.confirm('Are you sure you want to delete this announcement?')) return;\n    try {\n      const userName = authHelpers.getUserName() || 'User';\n      await axios.delete(`${apiConfig.adminService}/announcements/${id}`, {\n        headers: {\n          'X-User-Name': userName\n        }\n      });\n      setMessage({\n        type: 'success',\n        text: 'Announcement deleted successfully.'\n      });\n      fetchGlobal();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage({\n        type: 'error',\n        text: (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to delete announcement'\n      });\n    }\n  };\n  const deletePoll = async id => {\n    if (!window.confirm('Are you sure you want to delete this poll?')) return;\n    try {\n      const userName = authHelpers.getUserName() || 'User';\n      await axios.delete(`${apiConfig.adminService}/polls/${id}`, {\n        headers: {\n          'X-User-Name': userName\n        }\n      });\n      setMessage({\n        type: 'success',\n        text: 'Poll deleted successfully.'\n      });\n      fetchGlobal();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setMessage({\n        type: 'error',\n        text: (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to delete poll'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"HR Communications\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: `p-4 rounded-lg ${message.type === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`,\n      initial: {\n        y: -20,\n        opacity: 0\n      },\n      animate: {\n        y: 0,\n        opacity: 1\n      },\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-md border-l-4 border-pink-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-3\",\n        children: \"Create Global Announcement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateGlobalAnnouncement,\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"p-3 border rounded-lg focus:ring-2 focus:ring-pink-500 focus:outline-none\",\n            placeholder: \"Title\",\n            value: globalAnnouncement.title,\n            onChange: e => setGlobalAnnouncement(p => ({\n              ...p,\n              title: e.target.value\n            })),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"p-3 border rounded-lg focus:ring-2 focus:ring-pink-500 focus:outline-none\",\n            value: globalAnnouncement.type,\n            onChange: e => setGlobalAnnouncement(p => ({\n              ...p,\n              type: e.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"GENERAL\",\n              children: \"GENERAL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"URGENT\",\n              children: \"URGENT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"POLICY\",\n              children: \"POLICY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"EVENT\",\n              children: \"EVENT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"UPDATE\",\n              children: \"UPDATE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"w-full p-3 border rounded-lg h-32 focus:ring-2 focus:ring-pink-500 focus:outline-none\",\n          placeholder: \"Content\",\n          value: globalAnnouncement.content,\n          onChange: e => setGlobalAnnouncement(p => ({\n            ...p,\n            content: e.target.value\n          })),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors\",\n            children: \"Post Announcement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-md border-l-4 border-purple-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-3\",\n        children: \"Create Global Poll\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateGlobalPoll,\n        className: \"space-y-3\",\n        onKeyDown: e => {\n          if (e.key === 'Enter') e.preventDefault();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none\",\n          placeholder: \"Poll Question\",\n          value: globalPoll.question,\n          onChange: e => setGlobalPoll(p => ({\n            ...p,\n            question: e.target.value\n          })),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-medium text-sm text-gray-700\",\n          children: \"Options (Max 4)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), (globalPoll.options || []).slice(0, 4).map((opt, idx) => {\n          var _globalPoll$options, _globalPoll$options2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none\",\n              placeholder: `Option ${idx + 1}`,\n              value: opt,\n              onChange: e => handlePollOptionChange(idx, e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), idx === (((_globalPoll$options = globalPoll.options) === null || _globalPoll$options === void 0 ? void 0 : _globalPoll$options.length) || 0) - 1 && (((_globalPoll$options2 = globalPoll.options) === null || _globalPoll$options2 === void 0 ? void 0 : _globalPoll$options2.length) || 0) < 4 && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"px-4 py-2 border rounded-lg hover:bg-gray-50 transition-colors\",\n              onClick: () => setGlobalPoll(p => ({\n                ...p,\n                options: [...(p.options || []), '']\n              })),\n              children: \"+ Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n            children: \"Launch Poll\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold text-gray-800 border-b pb-2\",\n      children: \"Live Updates\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"space-y-4\",\n      initial: \"hidden\",\n      animate: \"show\",\n      variants: {\n        show: {\n          transition: {\n            staggerChildren: 0.1\n          }\n        }\n      },\n      children: globalComms.length > 0 ? globalComms.sort((a, b) => new Date(b.createdAt || 0) - new Date(a.createdAt || 0)).map((item, i) => {\n        var _stompRef$current;\n        return /*#__PURE__*/_jsxDEV(motion.div, {\n          variants: variants,\n          children: 'content' in item ? /*#__PURE__*/_jsxDEV(LiveAnnouncementComponent, {\n            announcement: item,\n            onDelete: deleteAnnouncement,\n            userLikes: userLikes,\n            setUserLikes: setUserLikes,\n            stompClient: (_stompRef$current = stompRef.current) === null || _stompRef$current === void 0 ? void 0 : _stompRef$current.chat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 19\n          }, this) : 'question' in item ? /*#__PURE__*/_jsxDEV(LivePollComponent, {\n            poll: item,\n            onDelete: deletePoll\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-gray-100 rounded\",\n            children: \"Unsupported item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 21\n          }, this)\n        }, `${'content' in item ? 'ann' : 'poll'}-${item.id || i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 p-4 bg-white rounded-lg\",\n        children: \"No communications available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(HRGlobalComms, \"nNe+kUO467IgcmnWR3qM/y1oiVg=\");\n_c = HRGlobalComms;\nexport default HRGlobalComms;\nvar _c;\n$RefreshReg$(_c, \"HRGlobalComms\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","SockJS","Client","motion","apiConfig","authHelpers","LiveAnnouncementComponent","LivePollComponent","jsxDEV","_jsxDEV","variants","hidden","opacity","y","show","HRGlobalComms","_s","globalComms","setGlobalComms","globalAnnouncement","setGlobalAnnouncement","title","content","type","globalPoll","setGlobalPoll","question","options","message","setMessage","userLikes","setUserLikes","stompRef","myName","getUserName","fetchGlobal","chatSocket","websocketUrl","adminSocket","adminWebsocketUrl","chatClient","webSocketFactory","reconnectDelay","adminClient","onConnect","subscribe","m","ann","JSON","parse","body","a","targetAudience","toUpperCase","includes","prev","poll","msg","reaction","announcementId","liked","error","console","deletion","filter","item","id","activate","current","chat","admin","deactivate","ra","rp","Promise","all","get","adminService","data","loadUserLikes","text","announcements","currentUser","likes","base","chatService","replace","response","fetch","interactions","json","userLike","find","i","userName","handleCreateGlobalAnnouncement","e","preventDefault","payload","createdByName","post","setTimeout","_error$response","_error$response$data","handleCreateGlobalPoll","pollData","o","trim","isActive","length","_error$response2","_error$response2$data","handlePollOptionChange","index","value","next","p","deleteAnnouncement","window","confirm","delete","headers","err","_err$response","_err$response$data","deletePoll","_err$response2","_err$response2$data","div","initial","animate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","target","required","onKeyDown","key","slice","map","opt","idx","_globalPoll$options","_globalPoll$options2","onClick","transition","staggerChildren","sort","b","Date","createdAt","_stompRef$current","announcement","onDelete","stompClient","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Interacthub/frontend/src/components/hr/HRGlobalComms.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport SockJS from 'sockjs-client';\r\nimport { Client } from '@stomp/stompjs';\r\nimport { motion } from 'framer-motion';\r\nimport apiConfig from '../../config/api';\r\nimport { authHelpers } from '../../config/auth';\r\nimport LiveAnnouncementComponent from '../manager/LiveAnnouncementComponent';\r\nimport LivePollComponent from '../manager/LivePollComponent';\r\n\r\nconst variants = { hidden: { opacity: 0, y: 20 }, show: { opacity: 1, y: 0 } };\r\n\r\nconst HRGlobalComms = () => {\r\n  const [globalComms, setGlobalComms] = useState([]);\r\n  const [globalAnnouncement, setGlobalAnnouncement] = useState({ title: '', content: '', type: 'GENERAL' });\r\n  const [globalPoll, setGlobalPoll] = useState({ question: '', options: [''] });\r\n  const [message, setMessage] = useState(null);\r\n  const [userLikes, setUserLikes] = useState({});\r\n\r\n  const stompRef = useRef(null);\r\n  const myName = authHelpers.getUserName();\r\n\r\n  useEffect(() => {\r\n    fetchGlobal();\r\n    const chatSocket = new SockJS(apiConfig.websocketUrl);\r\n    const adminSocket = new SockJS(apiConfig.adminWebsocketUrl);\r\n    const chatClient = new Client({ webSocketFactory: () => chatSocket, reconnectDelay: 5000 });\r\n    const adminClient = new Client({ webSocketFactory: () => adminSocket, reconnectDelay: 5000 });\r\n    \r\n    chatClient.onConnect = () => {\r\n      chatClient.subscribe('/topic/announcements.new', m => {\r\n        try {\r\n          const ann = JSON.parse(m.body || '{}');\r\n          const a = (ann.targetAudience || '').toUpperCase();\r\n          if (['ALL', 'HR', 'ADMIN'].includes(a)) setGlobalComms(prev => [ann, ...prev]);\r\n        } catch {}\r\n      });\r\n      chatClient.subscribe('/topic/polls.new', m => {\r\n        try {\r\n          const poll = JSON.parse(m.body || '{}');\r\n          const a = (poll.targetAudience || '').toUpperCase();\r\n          if (['ALL', 'HR', 'ADMIN'].includes(a)) setGlobalComms(prev => [poll, ...prev]);\r\n        } catch {}\r\n      });\r\n      \r\n      chatClient.subscribe('/topic/announcements.reactions', (msg) => {\r\n        try {\r\n          const reaction = JSON.parse(msg.body || '{}');\r\n          if (reaction.type === 'LIKE') {\r\n            setUserLikes(prev => ({ ...prev, [reaction.announcementId]: reaction.liked }));\r\n          } else if (reaction.type === 'COMMENT') {\r\n            fetchGlobal();\r\n          }\r\n        } catch (error) {\r\n          console.error('Error processing announcement reaction:', error);\r\n        }\r\n      });\r\n    };\r\n    \r\n    adminClient.onConnect = () => {\r\n      adminClient.subscribe('/topic/announcements.deleted', (msg) => {\r\n        try {\r\n          const deletion = JSON.parse(msg.body || '{}');\r\n          setGlobalComms(prev => prev.filter(item => !('content' in item) || item.id !== deletion.id));\r\n        } catch (error) {\r\n          console.error('Error processing announcement deletion:', error);\r\n        }\r\n      });\r\n      \r\n      adminClient.subscribe('/topic/polls.deleted', (msg) => {\r\n        try {\r\n          const deletion = JSON.parse(msg.body || '{}');\r\n          setGlobalComms(prev => prev.filter(item => !('question' in item) || item.id !== deletion.id));\r\n        } catch (error) {\r\n          console.error('Error processing poll deletion:', error);\r\n        }\r\n      });\r\n    };\r\n    \r\n    chatClient.activate();\r\n    adminClient.activate();\r\n    stompRef.current = { chat: chatClient, admin: adminClient };\r\n    return () => {\r\n      chatClient.deactivate();\r\n      adminClient.deactivate();\r\n    };\r\n  }, []);\r\n\r\n  const fetchGlobal = async () => {\r\n    try {\r\n      const [ra, rp] = await Promise.all([\r\n        axios.get(`${apiConfig.adminService}/announcements/target/ALL`),\r\n        axios.get(`${apiConfig.adminService}/polls/target/ALL`)\r\n      ]);\r\n      setGlobalComms([...(ra.data || []), ...(rp.data || [])]);\r\n      loadUserLikes(ra.data || []);\r\n    } catch {\r\n      setMessage({ type: 'error', text: 'Could not fetch communications.' });\r\n    }\r\n  };\r\n\r\n  const loadUserLikes = async (announcements) => {\r\n    const currentUser = authHelpers.getUserName() || 'User';\r\n    const likes = {};\r\n    \r\n    for (const ann of announcements) {\r\n      try {\r\n        const base = apiConfig.chatService.replace('/api/chat','/api/interactions');\r\n        const response = await fetch(`${base}/announcement/${ann.id}/interactions`);\r\n        const interactions = await response.json();\r\n        const userLike = interactions.find(i => \r\n          i.userName === currentUser && i.type === 'LIKE'\r\n        );\r\n        likes[ann.id] = !!userLike;\r\n      } catch (error) {\r\n        likes[ann.id] = false;\r\n      }\r\n    }\r\n    \r\n    setUserLikes(likes);\r\n  };\r\n\r\n  const handleCreateGlobalAnnouncement = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const payload = {\r\n        title: globalAnnouncement.title,\r\n        content: globalAnnouncement.content,\r\n        type: (globalAnnouncement.type || 'GENERAL').toUpperCase(),\r\n        targetAudience: 'ALL',\r\n        createdByName: myName\r\n      };\r\n      await axios.post(`${apiConfig.adminService}/announcements`, payload);\r\n      setMessage({ type: 'success', text: 'Announcement posted successfully!' });\r\n      setGlobalAnnouncement({ title: '', content: '', type: 'GENERAL' });\r\n      fetchGlobal();\r\n      setTimeout(() => setMessage(null), 3000);\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: error?.response?.data?.error || 'Failed to post announcement.' });\r\n    }\r\n  };\r\n\r\n  const handleCreateGlobalPoll = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const pollData = {\r\n        question: globalPoll.question,\r\n        options: (globalPoll.options || []).filter(o => (o || '').trim() !== ''),\r\n        targetAudience: 'ALL',\r\n        createdByName: myName,\r\n        isActive: true\r\n      };\r\n      if (pollData.options.length < 2) { \r\n        setMessage({ type: 'error', text: 'A poll needs at least two options.' }); \r\n        return; \r\n      }\r\n      await axios.post(`${apiConfig.adminService}/polls`, pollData);\r\n      setMessage({ type: 'success', text: 'Poll created successfully!' });\r\n      setGlobalPoll({ question: '', options: [''] });\r\n      fetchGlobal();\r\n      setTimeout(() => setMessage(null), 3000);\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: error?.response?.data?.error || 'Failed to create poll.' });\r\n    }\r\n  };\r\n\r\n  const handlePollOptionChange = (index, value) => {\r\n    const next = [...(globalPoll.options || [])];\r\n    next[index] = value;\r\n    setGlobalPoll(p => ({ ...p, options: next }));\r\n  };\r\n\r\n  const deleteAnnouncement = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this announcement?')) return;\r\n    try {\r\n      const userName = authHelpers.getUserName() || 'User';\r\n      await axios.delete(`${apiConfig.adminService}/announcements/${id}`, {\r\n        headers: { 'X-User-Name': userName }\r\n      });\r\n      setMessage({ type: 'success', text: 'Announcement deleted successfully.' });\r\n      fetchGlobal();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err?.response?.data?.error || 'Failed to delete announcement' });\r\n    }\r\n  };\r\n\r\n  const deletePoll = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this poll?')) return;\r\n    try {\r\n      const userName = authHelpers.getUserName() || 'User';\r\n      await axios.delete(`${apiConfig.adminService}/polls/${id}`, {\r\n        headers: { 'X-User-Name': userName }\r\n      });\r\n      setMessage({ type: 'success', text: 'Poll deleted successfully.' });\r\n      fetchGlobal();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err?.response?.data?.error || 'Failed to delete poll' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-8\">\r\n      <h1 className=\"text-3xl font-bold text-gray-800\">HR Communications</h1>\r\n\r\n      {message && (\r\n        <motion.div \r\n          className={`p-4 rounded-lg ${message.type === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`} \r\n          initial={{ y: -20, opacity: 0 }} \r\n          animate={{ y: 0, opacity: 1 }}\r\n        >\r\n          {message.text}\r\n        </motion.div>\r\n      )}\r\n\r\n      <div className=\"bg-white p-6 rounded-xl shadow-md border-l-4 border-pink-500\">\r\n        <h2 className=\"text-xl font-semibold mb-3\">Create Global Announcement</h2>\r\n        <form onSubmit={handleCreateGlobalAnnouncement} className=\"space-y-3\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n            <input \r\n              className=\"p-3 border rounded-lg focus:ring-2 focus:ring-pink-500 focus:outline-none\" \r\n              placeholder=\"Title\" \r\n              value={globalAnnouncement.title} \r\n              onChange={e => setGlobalAnnouncement(p => ({ ...p, title: e.target.value }))} \r\n              required \r\n            />\r\n            <select \r\n              className=\"p-3 border rounded-lg focus:ring-2 focus:ring-pink-500 focus:outline-none\" \r\n              value={globalAnnouncement.type} \r\n              onChange={e => setGlobalAnnouncement(p => ({ ...p, type: e.target.value }))}\r\n            >\r\n              <option value=\"GENERAL\">GENERAL</option>\r\n              <option value=\"URGENT\">URGENT</option>\r\n              <option value=\"POLICY\">POLICY</option>\r\n              <option value=\"EVENT\">EVENT</option>\r\n              <option value=\"UPDATE\">UPDATE</option>\r\n            </select>\r\n          </div>\r\n          <textarea \r\n            className=\"w-full p-3 border rounded-lg h-32 focus:ring-2 focus:ring-pink-500 focus:outline-none\" \r\n            placeholder=\"Content\" \r\n            value={globalAnnouncement.content} \r\n            onChange={e => setGlobalAnnouncement(p => ({ ...p, content: e.target.value }))} \r\n            required \r\n          />\r\n          <div className=\"flex justify-end\">\r\n            <button \r\n              type=\"submit\" \r\n              className=\"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors\"\r\n            >\r\n              Post Announcement\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 rounded-xl shadow-md border-l-4 border-purple-500\">\r\n        <h2 className=\"text-xl font-semibold mb-3\">Create Global Poll</h2>\r\n        <form onSubmit={handleCreateGlobalPoll} className=\"space-y-3\" onKeyDown={(e) => { if (e.key === 'Enter') e.preventDefault(); }}>\r\n          <input \r\n            className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none\" \r\n            placeholder=\"Poll Question\" \r\n            value={globalPoll.question} \r\n            onChange={e => setGlobalPoll(p => ({ ...p, question: e.target.value }))} \r\n            required \r\n          />\r\n          <h3 className=\"font-medium text-sm text-gray-700\">Options (Max 4)</h3>\r\n          {(globalPoll.options || []).slice(0, 4).map((opt, idx) => (\r\n            <div key={idx} className=\"flex gap-2\">\r\n              <input \r\n                className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none\" \r\n                placeholder={`Option ${idx + 1}`} \r\n                value={opt} \r\n                onChange={e => handlePollOptionChange(idx, e.target.value)} \r\n              />\r\n              {idx === (globalPoll.options?.length || 0) - 1 && (globalPoll.options?.length || 0) < 4 && (\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"px-4 py-2 border rounded-lg hover:bg-gray-50 transition-colors\" \r\n                  onClick={() => setGlobalPoll(p => ({ ...p, options: [...(p.options || []), ''] }))}\r\n                >\r\n                  + Add\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n          <div className=\"flex justify-end\">\r\n            <button \r\n              type=\"submit\" \r\n              className=\"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\r\n            >\r\n              Launch Poll\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <h2 className=\"text-2xl font-semibold text-gray-800 border-b pb-2\">Live Updates</h2>\r\n      <motion.div \r\n        className=\"space-y-4\" \r\n        initial=\"hidden\" \r\n        animate=\"show\" \r\n        variants={{ show: { transition: { staggerChildren: 0.1 } } }}\r\n      >\r\n        {globalComms.length > 0 ? globalComms\r\n          .sort((a, b) => new Date(b.createdAt || 0) - new Date(a.createdAt || 0))\r\n          .map((item, i) => (\r\n            <motion.div key={`${'content' in item ? 'ann' : 'poll'}-${item.id || i}`} variants={variants}>\r\n              {'content' in item\r\n                ? <LiveAnnouncementComponent \r\n                    announcement={item} \r\n                    onDelete={deleteAnnouncement} \r\n                    userLikes={userLikes} \r\n                    setUserLikes={setUserLikes} \r\n                    stompClient={stompRef.current?.chat} \r\n                  />\r\n                : 'question' in item\r\n                  ? <LivePollComponent poll={item} onDelete={deletePoll} />\r\n                  : <div className=\"p-4 bg-gray-100 rounded\">Unsupported item</div>\r\n              }\r\n            </motion.div>\r\n          )) : <p className=\"text-gray-500 p-4 bg-white rounded-lg\">No communications available.</p>}\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default HRGlobalComms;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}